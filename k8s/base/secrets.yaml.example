---
# ⚠️ IMPORTANT: Copy this file to secrets.yaml and fill in actual values
# DO NOT commit secrets.yaml to version control
# Add secrets.yaml to .gitignore
#
# To create secrets:
# 1. Copy: cp secrets.yaml.example secrets.yaml
# 2. Generate strong secrets:
#    SECRET_KEY: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
#    POSTGRES_PASSWORD: python3 -c "import secrets; print(secrets.token_urlsafe(16))"
#    REDIS_PASSWORD: python3 -c "import secrets; print(secrets.token_urlsafe(16))"
#    MINIO_ACCESS_KEY: python3 -c "import secrets; print(secrets.token_urlsafe(16))"
#    MINIO_SECRET_KEY: python3 -c "import secrets; print(secrets.token_urlsafe(16))"
# 3. Base64 encode values:
#    echo -n "your-secret-here" | base64
# 4. Apply: kubectl apply -f secrets.yaml
#
apiVersion: v1
kind: Secret
metadata:
  name: wanllmdb-secrets
  namespace: wanllmdb
type: Opaque
data:
  # Base64 encoded secrets (use: echo -n "value" | base64)

  # JWT Secret Key (minimum 32 characters)
  # Generate: python3 -c "import secrets; print(secrets.token_urlsafe(32))" | base64
  SECRET_KEY: Q0hBTkdFX1RISVNfVE9fU1RST05HX1NFQ1JFVF9NSU5fMzJfQ0hBUlM=

  # PostgreSQL Password
  # Generate: python3 -c "import secrets; print(secrets.token_urlsafe(16))" | base64
  POSTGRES_PASSWORD: Q0hBTkdFX1RISVNfVE9fU1RST05HX1BBU1NXT1JE

  # Redis Password
  # Generate: python3 -c "import secrets; print(secrets.token_urlsafe(16))" | base64
  REDIS_PASSWORD: Q0hBTkdFX1RISVNfVE9fU1RST05HX1BBU1NXT1JE

  # MinIO Access Key (minimum 12 characters, NOT 'minioadmin')
  # Generate: python3 -c "import secrets; print(secrets.token_urlsafe(16))" | base64
  MINIO_ACCESS_KEY: Q0hBTkdFX01JTl8xMl9DSEFSUw==

  # MinIO Secret Key (minimum 12 characters, NOT 'minioadmin')
  # Generate: python3 -c "import secrets; print(secrets.token_urlsafe(16))" | base64
  MINIO_SECRET_KEY: Q0hBTkdFX01JTl8xMl9DSEFSUw==

  # Admin Users (comma-separated usernames)
  # Example: echo -n "admin,tech_lead" | base64
  ADMIN_USERS: YWRtaW4=

---
# Database connection string secret
# This is constructed from the above secrets
apiVersion: v1
kind: Secret
metadata:
  name: wanllmdb-db-url
  namespace: wanllmdb
type: Opaque
stringData:
  # Will be constructed as: postgresql://user:password@host:port/database
  DATABASE_URL: "postgresql://wanllm:CHANGE_THIS@postgres:5432/wanllmdb"
  REDIS_URL: "redis://:CHANGE_THIS@redis:6379/0"
  TIMESCALE_URL: "postgresql://wanllm:CHANGE_THIS@postgres:5432/wanllmdb_metrics"
